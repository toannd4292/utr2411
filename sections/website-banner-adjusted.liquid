{{ 'section-image-banner.css' | asset_url | stylesheet_tag }}
<style>
    .banner:after{
      content: "";
      position: absolute;
      top: 0;
      z-index: 1;
      opacity: 1;
      width: 100%;
      height: 100%;
  }
  .banner__buttons {
      justify-content: center;
    }
  
  @media screen and (min-width: 750px) {
      .banner__box-2 {
        padding:4.5rem 1rem !important;
      }
      .custom-banner--small {
        height: 420px !important;
        .rich-text-background-image {
          min-height: 420px;
        }
      }
      .custom-banner--medium {
        height: 570px !important;
        .rich-text-background-image {
          min-height: 570px;
        }
      }
      .custom-banner--large {
        height: 720px !important;
        .rich-text-background-image {
          min-height: 720px;
        }
      }
      .banner:after {
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.27) 0%, rgba(0, 0, 0, 0.77) 100%) !important;
      }
  }

  @media screen and (max-width: 749px) {
    .banner__box-2 { padding-bottom: 0; }
    .banner:after {
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.89) 100%) !important;
    }
    .custom-banner--small,
    .custom-banner--medium,
    .custom-banner--large {
      overflow: hidden;
    }
    .rich-text-background-image {
      min-height: unset;
      align-items: unset;
    }
    .custom-grid { padding: 40px 37px; }
    .content-container--full-width-mobile { padding: unset; }
    .aspect-ratio-16-8 { aspect-ratio: unset !important; }
    .btn-second { margin-top: 10px; }
  }

  .aspect-ratio-16-8 { aspect-ratio: 16 / 8; }

  /* Gradient button and split heading */
  .gradient-button {
    background: transparent;
    border: 1px solid white;
    color: white;
    border-radius: 50px;
    padding: 12px 30px;
    min-width: 180px;
    display: inline-block;
    font-size: 14px;
    font-weight: 900;
    text-decoration: none;
    transition: background 0.3s ease;
  }
  @media screen and (min-width: 750px) {
    .gradient-button { min-width: 225px; }
  }
  .split-heading-first { color: #06f1df; }
  .split-heading-second { color: white; }
</style>

<div class="banner custom-banner--{{ section.settings.image_height }} banner--{{ section.settings.image_height }} banner--desktop-transparent banner--content-align-mobile-center">
 <div class="rich-text-background-image aspect-ratio-16-8"> 
  <div class="custom-height ">   
    <div class="grid grid--1-col grid--1-col-tablet grid--1-col-desktop align-items-center justify-content-center custom-grid">
      <div class="banner__content banner__content--top-center page-width banner--content-align-center">
        <div class="banner__box banner__box-2 content-container content-container--full-width-mobile">
          <div class="text-center">
            {% case section.settings['small-title-size'] %}
              {% when 'p' %}
                <p class="text-uppercase text-white mb-sm-0 mt-0 mb-1 gotham-medium font-sm-12 font-md-14 font-lg-24">{{section.settings.tagline}}</p>
              {% when 'h1' %}
                <h1 class="text-uppercase text-white mb-lg-1 mb-sm-0 mt-0 gotham-medium font-sm-12 text-black small-title-font-large lh-normal">{{section.settings.tagline}}</h1>
              {% when 'h2' %}
                <h2 class="text-uppercase text-white mb-lg-1 mb-sm-0 mt-0 gotham-medium font-sm-12 text-black small-title-font-medium lh-normal">{{section.settings.tagline}}</h2>
              {% when 'h3' %}
                <h3 class="text-uppercase text-white mb-lg-1 mb-sm-0 mt-0 gotham-medium font-sm-12 text-black small-title-font-small lh-normal">{{section.settings.tagline}}</h3>
            {% endcase %}
            
            {% assign headerSize = section.settings['heading-size'] %}
            {% if headerSize == 'large' %}
              <h1 class="font-lg-85 section-title-sm font-tungsten mb-0 mt-0 lh-xl-78 text-uppercase wrapper-heading-c">
                <span class="split-heading-first">{{ section.settings.heading_first }}</span>
                <span class="split-heading-second">{{ section.settings.heading_second }}</span>
              </h1>
            {% elsif headerSize == 'medium' %}
              <h2 class="font-size-medium section-title-sm font-tungsten mb-0 mt-0 lh-xl-78 text-uppercase">
                <span class="split-heading-first">{{ section.settings.heading_first }}</span>
                <span class="split-heading-second">{{ section.settings.heading_second }}</span>
              </h2>
            {% elsif headerSize == 'small' %}
              <h3 class="font-size-small section-title-sm font-tungsten mb-0 mt-0 lh-xl-78 text-uppercase">
                <span class="split-heading-first">{{ section.settings.heading_first }}</span>
                <span class="split-heading-second">{{ section.settings.heading_second }}</span>
              </h3>
            {% else %}
              <h1 class="font-lg-85 section-title-sm font-tungsten mb-0 mt-0 lh-xl-78 text-uppercase">
                <span class="split-heading-first">{{ section.settings.heading_first }}</span>
                <span class="split-heading-second">{{ section.settings.heading_second }}</span>
              </h1>
            {% endif %}

            {% assign subheaderSize = section.settings['sub-heading-size'] %}
            {% if subheaderSize == 'medium' %}
              <h2 class="lh-xl-78 lh-sm-normal font-lg-85 font-sm-55 mt-sm-n1 text-white font-best-friend text-teal d-block mt-0 mt-sm-n1-1-4 mb-2">
                {{ section.settings.subheading }}
              </h2>
            {% elsif subheaderSize == 'small' %}
              <h3 class="lh-xl-78 font-size-medium lh-sm-normal font-sm-55 mt-sm-n1 text-white font-best-friend text-teal d-block mt-0 mt-sm-n1-1-4 mb-2">
                {{ section.settings.subheading }}
              </h3>
            {% else %}
              <h2 class="lh-xl-78 lh-sm-normal font-lg-85 font-sm-55 mt-sm-n1 text-white font-best-friend text-teal d-block mt-0 mt-sm-n1-1-4 mb-2">
                {{ section.settings.subheading }}
              </h2>
            {% endif %}
            
            <p class="banner-description mb-lg-1 mb-sm-0 mt-1 font-sm-14 font-md-14 text-white font-lg-18 lh-sm-19 lh-lg-22">
              {{section.settings.description}}
            </p>

            <div class="mt-3 banner__buttons banner__buttons--multiple">
              <a href="{{section.settings.section-button-url}}" class="gradient-button">{{section.settings.section-button}}</a>
              <a href="{{section.settings.section-button-url-second}}" class="gradient-button">{{section.settings.section-button-second}}</a>
            </div>
          </div>
        </div>
      </div>  
    </div>
  </div> 
</div>
</div>  

<style>
 @media(min-width: 750px) {  
  .rich-text-background-image {
    background-image: url("{{section.settings.section-image | image_url}}");
  }
 }

 {% if section.settings.image_mobile %}
 @media(max-width: 749px) {
   .rich-text-background-image {
     background-image: url("{{section.settings.image_mobile | image_url}}");
   }
 }
 {%endif%}

 .font-size-medium { font-size: 70px; }
 .font-size-small { font-size: 55px; }

 .small-title-font-large { font-size: 40px; }
 .small-title-font-medium { font-size: 30px; }
 .small-title-font-small { font-size: 24px; }

 /* --- MOBILE FIXES --- */
 @media (max-width: 749px) {
   /* 1) Bigger mobile main heading (green + white) */
   .wrapper-heading-c { display: flex; flex-direction: column; }
   .wrapper-heading-c span {
     font-size: 40px !important;
     line-height: 44px !important;
     white-space: normal;
     word-break: keep-all;
     overflow-wrap: normal;
     hyphens: none;
   }

   /* 2) Slightly bigger white tagline above green text */
   .small-title-font-large { font-size: 22px !important; line-height: 26px !important; }
   .small-title-font-medium { font-size: 20px !important; line-height: 24px !important; }
   .small-title-font-small { font-size: 18px !important; line-height: 22px !important; }
   .banner__box-2 .text-center p.text-uppercase.text-white.gotham-medium {
     font-size: 16px !important;
     line-height: 20px !important;
     margin-bottom: 8px !important;
   }

   /* 3) Reduce space below the green main heading */
   .banner-description {
     margin-top: 0.6rem !important; /* was ~1rem â€” reduced ~20% */
   }

   /* 4) Slightly taller module for better proportion */
   .custom-banner--small,
   .custom-banner--medium,
   .custom-banner--large {
     min-height: 520px !important;
   }
   .rich-text-background-image {
     min-height: inherit !important;
     background-size: cover;
     background-position: center;
     display: flex;
     align-items: center;
   }
   .banner__box-2 {
     padding-top: 20px !important;
     padding-bottom: 20px !important;
   }
 }
</style>

<script>
(function(){
  const BAD = /[\u00A0\u202F\u2007\u2009\u200A\u2060\u200B\uFEFF]/g; 
  document.querySelectorAll('.split-heading-first, .split-heading-second').forEach(el=>{
    el.textContent = (el.textContent || '').replace(BAD,' ').replace(/\s{2,}/g,' ').trim();
  });
})();
</script>

{% schema %}
  {
    "name": "Image Banner Gradient",
    "class": "inner-page-image-banner-gradient",
    "presets": [
      {
        "name": "Image Banner Gradient",
        "category": "Inner Page Image Banner"
      }
    ],
    "settings": [
      {
        "type": "image_picker",
        "id": "section-image",
        "label": "Desktop Screen Image"
      },
      {
        "type": "image_picker",
        "id": "image_mobile",
        "label" : "Mobile Screen Image"
      },
      {
        "type": "select",
        "id": "image_height",
        "options": [
          { "value": "small", "label": "Small" },
          { "value": "medium", "label": "Medium" },
          { "value": "large", "label": "Large" }
        ],
        "default": "medium",
        "label": "Banner height"
      },
      {
        "type": "text",
        "id": "tagline",
        "label": "Tag Line Title"
      },
      {
        "type": "select",
        "id": "small-title-size",
        "label": "Tag Line Title Size",
        "options": [
          { "value": "h1", "label": "Large" },
          { "value": "h2", "label": "Medium" },
          { "value": "h3", "label": "Small" },
          { "value": "p", "label": "Normal" }
        ],
        "default": "p"
      },
      {
        "type": "text",
        "id": "heading_first",
        "label": "Heading First Half (Teal)"
      },
      {
        "type": "text",
        "id": "heading_second",
        "label": "Heading Second Half (White)"
      },
      {
        "type": "select",
        "id": "heading-size",
        "label": "Header Size",
        "options": [
          { "value": "large", "label": "Large" },
          { "value": "medium", "label": "Medium" },
          { "value": "small", "label": "Small" }
        ]
      },
      {
        "type": "text",
        "id": "subheading",
        "label": "Sub Title"
      },
      {
        "type": "select",
        "id": "sub-heading-size",
        "label": "Sub Header Size",
        "options": [
          { "value": "medium", "label": "Medium" },
          { "value": "small", "label": "Small" }
        ]
      },
      {
        "type": "text",
        "id": "description",
        "label": "Description Title"
      },
      {
        "type": "text",
        "id": "section-button",
        "label": "Button Title"
      },
      {
        "type": "url",
        "id": "section-button-url",
        "label": "Button Link"
      },
      {
        "type": "text",
        "id": "section-button-second",
        "label": "Second Button Title "
      },
      {
        "type": "url",
        "id": "section-button-url-second",
        "label": "Button Link"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}